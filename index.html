<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ENERGY</title>
    <script src="data.js"></script>
    <style>
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --aura-color: rgba(255, 255, 255, 0.6);
            --star-color: #ffffff;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: "Optima", "Quicksand", "PingFang SC", "Microsoft YaHei", sans-serif;
            display: flex; justify-content: center; align-items: center;
            transition: background-color 1s ease, color 1s ease;
            -webkit-tap-highlight-color: transparent;
        }

        /* 背景星光 */
        #star-field { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
        .star { position: absolute; background: var(--star-color); border-radius: 50%; opacity: 0; animation: twinkle var(--duration) infinite ease-in-out; }
        @keyframes twinkle { 0%, 100% { opacity: 0; transform: scale(0.5); } 50% { opacity: var(--max-opacity); transform: scale(1.2); } }

        /* 内容区 */
        .content { position: relative; z-index: 10; text-align: center; width: 90%; display: flex; flex-direction: column; align-items: center; }
        
        .date-box { margin-bottom: 3vh; letter-spacing: 4px; }
        #day { font-size: clamp(4.5rem, 20vw, 7rem); font-weight: 100; margin: 0; line-height: 1; }
        #sub-date { font-size: 0.7rem; opacity: 0.6; margin-top: 8px; text-transform: uppercase; }
        
        /* 能量星球天数 */
        #planet-days { 
            font-size: 0.75rem; 
            margin-top: 12px; 
            letter-spacing: 2px; 
            opacity: 0.8;
            font-weight: 300;
        }

        /* 能量环 */
        .aura-container { position: relative; width: clamp(280px, 80vw, 380px); height: clamp(280px, 80vw, 380px); display: flex; justify-content: center; align-items: center; }
        .aura-ring { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 1.5px solid var(--aura-color); box-shadow: 0 0 25px var(--aura-color), inset 0 0 15px var(--aura-color); animation: breathe 5s infinite ease-in-out; }
        .aura-ring-outer { position: absolute; width: 112%; height: 112%; border-radius: 50%; border: 1px solid var(--aura-color); opacity: 0.15; animation: breathe 8s infinite ease-in-out reverse; }
        
        @keyframes breathe { 0%, 100% { transform: scale(1); opacity: 0.3; filter: blur(2px); } 50% { transform: scale(1.06); opacity: 0.6; filter: blur(4px); } }

        .quote-wrapper { z-index: 15; padding: 0 30px; display: flex; flex-direction: column; align-items: center; gap: 25px; }
        #quote { font-size: clamp(1rem, 4.5vw, 1.25rem); line-height: 1.8; font-weight: 300; max-width: 280px; transition: opacity 0.5s; }
        #refresh-btn { background: transparent; border: 1px solid var(--text-color); color: inherit; padding: 10px 25px; border-radius: 30px; font-size: 0.7rem; letter-spacing: 2px; cursor: pointer; backdrop-filter: blur(5px); transition: all 0.3s; opacity: 0.5; }

        /* 下拉选择框 */
        .theme-selector { position: fixed; bottom: 30px; right: 30px; z-index: 100; display: flex; flex-direction: column-reverse; align-items: flex-end; }
        .theme-trigger { width: 46px; height: 46px; border-radius: 50%; background: rgba(128, 128, 128, 0.15); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.2); display: flex; justify-content: center; align-items: center; cursor: pointer; transition: transform 0.3s; }
        .theme-trigger svg { width: 22px; height: 22px; fill: var(--text-color); opacity: 0.8; }
        .theme-menu { margin-bottom: 15px; display: none; flex-direction: column; gap: 14px; padding: 12px; border-radius: 30px; background: rgba(128, 128, 128, 0.1); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.15); animation: slideUp 0.4s ease forwards; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .dot { width: 26px; height: 26px; border-radius: 50%; cursor: pointer; border: 2.5px solid rgba(255, 255, 255, 0.2); transition: transform 0.2s; }
        .theme-selector.active .theme-menu { display: flex; }
        .theme-selector.active .theme-trigger { transform: rotate(45deg); }
    </style>
</head>
<body>

    <div id="star-field"></div>

    <div class="theme-selector" id="themeSelector">
        <div class="theme-trigger" onclick="toggleThemeMenu()">
            <svg viewBox="0 0 24 24"><path d="M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3M6.5,10A1.5,1.5 0 1,1 8,11.5A1.5,1.5 0 0,1 6.5,10M9.5,6A1.5,1.5 0 1,1 11,7.5A1.5,1.5 0 0,1 9.5,6M14.5,6A1.5,1.5 0 1,1 16,7.5A1.5,1.5 0 0,1 14.5,6M17.5,10A1.5,1.5 0 1,1 19,11.5A1.5,1.5 0 0,1 17.5,10Z"/></svg>
        </div>
        <div class="theme-menu">
            <div class="dot" style="background: #000000;" onclick="setTheme('#000000', '#ffffff', 'rgba(255,255,255,0.6)', '#ffffff')"></div>
            <div class="dot" style="background: #ffffff;" onclick="setTheme('#ffffff', '#333333', 'rgba(0,0,0,0.15)', '#000000')"></div>
            <div class="dot" style="background: #FFD24D;" onclick="setTheme('#FFF7E0', '#7A5C00', 'rgba(255,180,0,0.4)', '#B38F00')"></div>
            <div class="dot" style="background: #B19CD9;" onclick="setTheme('#F0E6FF', '#4B0082', 'rgba(138,43,226,0.35)', '#6A5ACD')"></div>
            <div class="dot" style="background: #FFF0F5;" onclick="setTheme('#FFF0F5', '#6B525A', 'rgba(107,82,90,0.4)', '#6B525A')"></div>
        </div>
    </div>

    <div class="content">
        <div class="date-box">
            <h1 id="day">--</h1>
            <div id="sub-date">Connect to Universe</div>
            <div id="planet-days">能量星球第 -- 天</div>
        </div>

        <div class="aura-container">
            <div class="aura-ring"></div>
            <div class="aura-ring-outer"></div>
            <div class="quote-wrapper">
                <div id="quote">正在加载能量...</div>
                <button id="refresh-btn" onclick="refreshQuote()">ENERGY</button>
            </div>
        </div>
    </div>

    <script>
        // 记录访问天数逻辑
        function updatePlanetDays() {
            const startDate = localStorage.getItem('planet_start_date');
            const now = new Date();
            const todayStr = now.toLocaleDateString();
            
            if (!startDate) {
                localStorage.setItem('planet_start_date', todayStr);
                document.getElementById('planet-days').innerText = `能量星球第 1 天`;
            } else {
                const start = new Date(startDate);
                const diffTime = Math.abs(now - start);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) || 1; 
                document.getElementById('planet-days').innerText = `能量星球第 ${diffDays} 天`;
            }
        }

        function toggleThemeMenu() {
            document.getElementById('themeSelector').classList.toggle('active');
        }

        document.addEventListener('click', (e) => {
            const selector = document.getElementById('themeSelector');
            if (!selector.contains(e.target)) selector.classList.remove('active');
        });

        function setTheme(bg, text, aura, star) {
            const root = document.documentElement;
            root.style.setProperty('--bg-color', bg);
            root.style.setProperty('--text-color', text);
            root.style.setProperty('--aura-color', aura);
            root.style.setProperty('--star-color', star);
            setTimeout(() => document.getElementById('themeSelector').classList.remove('active'), 200);
        }

        function initDate() {
            const now = new Date();
            const days = ["SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY", "SATURDAY"];
            const months = ["JAN.", "FEB.", "MAR.", "APR.", "MAY.", "JUN.", "JUL.", "AUG.", "SEP.", "OCT.", "NOV.", "DEC."];
            document.getElementById('day').innerText = String(now.getDate()).padStart(2, '0');
            document.getElementById('sub-date').innerText = `${months[now.getMonth()]} ${now.getFullYear()} / ${days[now.getDay()]}`;
        }

        function refreshQuote() {
            const quoteEl = document.getElementById('quote');
            if (typeof quotes !== 'undefined' && quotes.length > 0) {
                quoteEl.style.opacity = 0;
                setTimeout(() => {
                    const randomIdx = Math.floor(Math.random() * quotes.length);
                    quoteEl.innerText = quotes[randomIdx];
                    quoteEl.style.opacity = 1;
                }, 400);
            }
        }

        function createStars() {
            const starField = document.getElementById('star-field');
            for (let i = 0; i < 45; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 2 + 1 + 'px';
                star.style.width = size; star.style.height = size;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
                star.style.setProperty('--max-opacity', Math.random() * 0.4 + 0.1);
                star.style.animationDelay = Math.random() * 5 + 's';
                starField.appendChild(star);
            }
        }

        initDate();
        createStars();
        updatePlanetDays();
        window.onload = () => setTimeout(refreshQuote, 100);
    </script>
</body>
</html>

