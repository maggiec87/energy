<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>èƒ½é‡æ—¥ç­¾</title>
<script src="data.js"></script>
<style>
:root { --text:#2c2c2c; --secondary:#8a8a8a; }

/* ===== ä¸»é¢˜é¢œè‰² ===== */
body.energy-rose { --bg:linear-gradient(180deg,#fff0f5,#ffe6f0); --ring:rgba(244,114,182,0.25); --text:#2c2c2c; --secondary:#8a8a8a;}
body.energy-moss { --bg:linear-gradient(180deg,#f4fff4,#e8f9e8); --ring:rgba(34,197,94,0.22); --text:#2c2c2c; --secondary:#7c7c7c;}
body.energy-indigo { --bg:linear-gradient(180deg,#111827,#1f2937); --ring:rgba(99,102,241,0.3); --text:#e5e7eb; --secondary:#9ca3af;}
body.energy-amber { --bg:linear-gradient(180deg,#fff9f0,#fef3c7); --ring:rgba(245,158,11,0.22); --text:#2c2c2c; --secondary:#8a8a8a;}
body.energy-aura { --bg:linear-gradient(180deg,#f8faff,#eef2ff); --ring:rgba(168,85,247,0.2); --text:#2c2c2c; --secondary:#8a8a8a;}

/* ===== åŸºç¡€ ===== */
*{margin:0;padding:0;box-sizing:border-box;}
body{min-height:100vh;background:var(--bg);color:var(--text);font-family:"Optima","PingFang SC","Microsoft YaHei",sans-serif;display:flex;justify-content:center;align-items:center;padding:20px;position:relative;overflow:hidden;transition:background 1s ease;}
.container{position:relative;z-index:2;width:100%;max-width:520px;background:rgba(255,255,255,0.85);border-radius:20px;padding:56px 40px 60px;text-align:center;backdrop-filter:blur(10px);overflow:hidden;}
body.energy-indigo .container{background: rgba(17,24,39,0.85);}

/* ===== é¡¶éƒ¨æ ‡é¢˜ ===== */
#title{font-size:1.5rem;font-weight:500;margin-bottom:20px;}

/* ===== æ—¥æœŸ/æ˜ŸæœŸ/å¤©æ°” ===== */
.date-section{margin-bottom:30px;}
#day{font-size:5.2rem;font-weight:200;}
#month-year{font-size:0.85rem;letter-spacing:4px;color:var(--secondary);}
#weekday{margin-top:8px;font-size:0.75rem;letter-spacing:2px;color:var(--secondary);}
#weather{font-size:1rem;margin-top:4px;}

/* ===== åˆ†å‰²çº¿ ===== */
.divider{width:48px;height:2px;background:linear-gradient(to right,transparent,currentColor,transparent);opacity:0.15;margin:0 auto 30px;}

/* ===== é‡‘å¥ ===== */
#quote{min-height:180px;font-size:1.15rem;line-height:1.85;display:flex;align-items:center;justify-content:center;padding:0 12px;z-index:2;}

/* ===== é™ªä¼´å¤©æ•° ===== */
#companion-days{margin-top:20px;font-size:0.7rem;color:var(--secondary);letter-spacing:1px;z-index:2;}

/* ===== å³ä¸Šä¸»é¢˜é€‰æ‹© ===== */
#theme-picker{position:absolute;top:20px;right:20px;z-index:3;background:rgba(255,255,255,0.7);border-radius:12px;padding:6px 10px;backdrop-filter:blur(6px);}
#theme-picker select{border:none;background:none;font-size:0.85rem;color:#333;cursor:pointer;}

/* ===== å¡ç‰‡èƒ½é‡å›¾æ¡ˆ ===== */
#energyPattern{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:300px;height:300px;z-index:0;opacity:0.25;}
#energyPattern circle{fill:none;stroke:var(--ring);stroke-width:2;transform-origin:50% 50%;animation:rotate 20s linear infinite,scalePulse 4s ease-in-out infinite alternate;}
@keyframes rotate{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
@keyframes scalePulse{0%{transform:scale(0.95);}100%{transform:scale(1.05);}}

/* ===== æ˜Ÿè±¡éšæœº ===== */
.star,.moon,.sun{position:absolute;z-index:0;}
.star{width:2px;height:2px;background:#fff;border-radius:50%;}
.moon{width:16px;height:16px;border-radius:50%;background:rgba(255,255,200,0.6);}
.sun{width:16px;height:16px;border-radius:50%;background:rgba(255,200,50,0.6);}
</style>
</head>
<body>

<div class="container">
  <div id="title">èƒ½é‡æ—¥ç­¾</div>
  <div class="date-section">
    <div id="month-year"></div>
    <div id="day"></div>
    <div id="weekday"></div>
    <div id="weather"></div>
  </div>
  <div class="divider"></div>
  <div id="quote">æ­£åœ¨ä¸ä½ æ­¤åˆ»çš„çŠ¶æ€å¯¹é½â€¦</div>
  <div id="companion-days"></div>
  <!-- å¡ç‰‡èƒŒæ™¯èƒ½é‡å›¾æ¡ˆ -->
  <svg id="energyPattern" viewBox="0 0 200 200">
    <circle cx="100" cy="100" r="60"/>
    <circle cx="100" cy="100" r="40"/>
    <circle cx="100" cy="100" r="20"/>
  </svg>
</div>

<!-- å³ä¸Šè§’ä¸»é¢˜é€‰æ‹© -->
<div id="theme-picker">
  <select id="themeSelect">
    <option value="energy-rose">Rose Flow</option>
    <option value="energy-moss">Moss Calm</option>
    <option value="energy-indigo">Indigo Night</option>
    <option value="energy-amber">Amber Warm</option>
    <option value="energy-aura">Aura Mist</option>
  </select>
</div>

<script>
// æ—¥æœŸã€æ˜ŸæœŸã€éšæœºå¤©æ°”
function renderDate(){
  const now=new Date();
  const days=['SUNDAY','MONDAY','TUESDAY','WEDNESDAY','THURSDAY','FRIDAY','SATURDAY'];
  const months=['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];
  document.getElementById('day').innerText=now.getDate().toString().padStart(2,'0');
  document.getElementById('month-year').innerText=`${months[now.getMonth()]} / ${now.getFullYear()}`;
  document.getElementById('weekday').innerText=days[now.getDay()];
  const weathers=['â˜€ï¸','ğŸŒ¤ï¸','ğŸŒ™','ğŸŒ§ï¸'];
  document.getElementById('weather').innerText=weathers[Math.floor(Math.random()*weathers.length)];
}

// æ¯æ—¥é‡‘å¥
function displayDailyQuote(){
  if(typeof quotesArray==='undefined') return;
  const today=new Date().toDateString();
  const key='dailyQuote_'+today;
  let quote=localStorage.getItem(key);
  if(!quote){
    quote=quotesArray[Math.floor(Math.random()*quotesArray.length)];
    localStorage.setItem(key,quote);
  }
  document.getElementById('quote').innerText=quote;
}

// é™ªä¼´å¤©æ•°
function renderCompanionDays(){
  const today=new Date().toDateString();
  let days=JSON.parse(localStorage.getItem('openedDays')||'[]');
  if(!days.includes(today)){days.push(today);localStorage.setItem('openedDays',JSON.stringify(days));}
  document.getElementById('companion-days').innerText=`å·²ä¸ä½ å…±åº¦ ${days.length} å¤©`;
}

// ä¸»é¢˜é€‰æ‹©
function applyTheme(theme){
  document.body.classList.remove('energy-rose','energy-moss','energy-indigo','energy-amber','energy-aura');
  document.body.classList.add(theme);
  localStorage.setItem('selectedTheme',theme);
}

// éšæœºæ˜Ÿè±¡
function generateStars(num){for(let i=0;i<num;i++){const s=document.createElement('div');s.className='star';s.style.top=Math.random()*100+'%';s.style.left=Math.random()*100+'%';s.style.width=1+Math.random()*2+'px';s.style.height=1+Math.random()*2+'px';s.style.opacity=Math.random();document.body.appendChild(s);}}
function generateMoons(num){for(let i=0;i<num;i++){const m=document.createElement('div');m.className='moon';m.style.top=Math.random()*80+'%';m.style.left=Math.random()*80+'%';document.body.appendChild(m);}}
function generateSuns(num){for(let i=0;i<num;i++){const s=document.createElement('div');s.className='sun';s.style.top=Math.random()*80+'%';s.style.left=Math.random()*80+'%';document.body.appendChild(s);}}

// åˆå§‹åŒ–
renderDate();
displayDailyQuote();
renderCompanionDays();
generateStars(50);
generateMoons(2);
generateSuns(2);

// ä¸»é¢˜æ§ä»¶
const themeSelect=document.getElementById('themeSelect');
const savedTheme=localStorage.getItem('selectedTheme');
if(savedTheme) applyTheme(savedTheme);
themeSelect.value=savedTheme||'energy-rose';
themeSelect.addEventListener('change',e=>applyTheme(e.target.value));
</script>
</body>
</html>
