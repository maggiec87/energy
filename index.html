<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>灵性能量日签</title>
    <script src="data.js"></script>
    <style>
        :root {
            --bg-color: #000000;
            --text-color: #ffffff;
            --aura-color: rgba(255, 255, 255, 0.6);
            --star-color: #ffffff;
        }

        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: "Optima", "Quicksand", "PingFang SC", sans-serif;
            display: flex; justify-content: center; align-items: center;
            transition: background-color 1s ease, color 1s ease;
        }

        /* 星光背景层 */
        #star-field {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }

        .star {
            position: absolute; background: var(--star-color);
            border-radius: 50%; opacity: 0;
            animation: twinkle var(--duration) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: var(--max-opacity); transform: scale(1.2); }
        }

        .content {
            position: relative; z-index: 10;
            text-align: center; width: 90%; max-width: 600px;
            display: flex; flex-direction: column; align-items: center;
        }

        .date-box { margin-bottom: 4vh; letter-spacing: 4px; }
        #day { font-size: clamp(4.5rem, 18vw, 7rem); font-weight: 100; margin: 0; line-height: 1; }
        #sub-date { font-size: 0.7rem; opacity: 0.6; margin-top: 15px; text-transform: uppercase; }

        /* 增强版能量环 */
        .aura-container {
            position: relative;
            width: clamp(300px, 85vw, 400px);
            height: clamp(300px, 85vw, 400px);
            display: flex; justify-content: center; align-items: center;
        }

        .aura-ring {
            position: absolute; width: 100%; height: 100%;
            border-radius: 50%;
            /* 复合边框与外发光，增强可见度 */
            border: 2px solid var(--aura-color);
            box-shadow: 0 0 25px var(--aura-color), 
                        inset 0 0 15px var(--aura-color);
            animation: breathe 5s infinite ease-in-out;
        }

        .aura-ring-outer {
            position: absolute; width: 115%; height: 115%;
            border-radius: 50%;
            border: 1px solid var(--aura-color);
            opacity: 0.2;
            animation: breathe 8s infinite ease-in-out reverse;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.3; filter: blur(2px); }
            50% { transform: scale(1.08); opacity: 0.7; filter: blur(4px); }
        }

        .quote-wrapper {
            z-index: 15; padding: 0 25px;
            display: flex; flex-direction: column; align-items: center; gap: 30px;
        }

        #quote {
            font-size: clamp(1.1rem, 4.5vw, 1.35rem);
            line-height: 2; font-weight: 300; letter-spacing: 1px;
            max-width: 320px; transition: opacity 0.5s;
        }

        #refresh-btn {
            background: transparent; border: 1px solid var(--text-color);
            color: inherit; padding: 8px 25px; border-radius: 30px;
            font-size: 0.7rem; letter-spacing: 2px; cursor: pointer;
            backdrop-filter: blur(5px); transition: all 0.3s; opacity: 0.6;
        }
        #refresh-btn:hover { opacity: 1; background: rgba(128, 128, 128, 0.1); }

        /* 右上角控制条 */
        .top-color-bar {
            position: fixed; top: 25px; right: 25px; z-index: 100;
            display: flex; gap: 15px; padding: 10px 15px;
            background: rgba(128, 128, 128, 0.1); border-radius: 30px;
            backdrop-filter: blur(15px);
        }

        .dot {
            width: 20px; height: 20px; border-radius: 50%;
            cursor: pointer; border: 1px solid rgba(128, 128, 128, 0.2);
            transition: transform 0.2s ease;
        }
        .dot:hover { transform: scale(1.3); }
    </style>
</head>
<body>

    <div id="star-field"></div>

    <div class="top-color-bar">
        <div class="dot" style="background: #ffffff;" onclick="setTheme('#ffffff', '#333333', 'rgba(0,0,0,0.3)', '#000000')"></div>
        <div class="dot" style="background: #000000;" onclick="setTheme('#000000', '#ffffff', 'rgba(255,255,255,0.6)', '#ffffff')"></div>
        <div class="dot" style="background: #FFF9E5;" onclick="setTheme('#FFF9E5', '#5D534A', 'rgba(93,83,74,0.4)', '#5D534A')"></div>
        <div class="dot" style="background: #F3E5F5;" onclick="setTheme('#F3E5F5', '#4A4458', 'rgba(74,68,88,0.4)', '#4A4458')"></div>
        <div class="dot" style="background: #FFF0F5;" onclick="setTheme('#FFF0F5', '#6B525A', 'rgba(107,82,90,0.4)', '#6B525A')"></div>
    </div>

    <div class="content">
        <div class="date-box">
            <h1 id="day">--</h1>
            <div id="sub-date">Connect to Universe</div>
        </div>

        <div class="aura-container">
            <div class="aura-ring"></div>
            <div class="aura-ring-outer"></div>
            <div class="quote-wrapper">
                <div id="quote">正在加载能量...</div>
                <button id="refresh-btn" onclick="refreshQuote()">NEW ENERGY</button>
            </div>
        </div>
    </div>

    <script>
        function initDate() {
            const now = new Date();
            const days = ["SUNDAY", "MONDAY", "TUESDAY", "WEDNESDAY", "THURSDAY", "FRIDAY", "SATURDAY"];
            const months = ["JAN.", "FEB.", "MAR.", "APR.", "MAY.", "JUN.", "JUL.", "AUG.", "SEP.", "OCT.", "NOV.", "DEC."];
            document.getElementById('day').innerText = String(now.getDate()).padStart(2, '0');
            document.getElementById('sub-date').innerText = `${months[now.getMonth()]} ${now.getFullYear()} / ${days[now.getDay()]}`;
        }

        function refreshQuote() {
            const source = (typeof quotes !== 'undefined') ? quotes : ["顺应流动的能量，万物自有定时。"];
            const quoteEl = document.getElementById('quote');
            quoteEl.style.opacity = 0;
            setTimeout(() => {
                const randomIdx = Math.floor(Math.random() * source.length);
                quoteEl.innerText = source[randomIdx];
                quoteEl.style.opacity = 1;
            }, 500);
        }

        function setTheme(bg, text, aura, star) {
            const root = document.documentElement;
            root.style.setProperty('--bg-color', bg);
            root.style.setProperty('--text-color', text);
            root.style.setProperty('--aura-color', aura);
            root.style.setProperty('--star-color', star);
        }

        // 动态生成星光粒子
        function createStars() {
            const starField = document.getElementById('star-field');
            const count = 60;
            for (let i = 0; i < count; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 3 + 'px';
                const x = Math.random() * 100 + '%';
                const y = Math.random() * 100 + '%';
                const duration = (Math.random() * 3 + 2) + 's';
                const maxOpacity = Math.random() * 0.4 + 0.1;
                
                star.style.width = size;
                star.style.height = size;
                star.style.left = x;
                star.style.top = y;
                star.style.setProperty('--duration', duration);
                star.style.setProperty('--max-opacity', maxOpacity);
                star.style.animationDelay = Math.random() * 5 + 's';
                
                starField.appendChild(star);
            }
        }

        initDate();
        createStars();
        window.onload = refreshQuote;
    </script>
</body>
</html>
